<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BookStore</title>
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keyword" content="bookstore">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta http-equiv="cache-control" content="no-siteapp">
    <meta name="apple-mobile-web-app-title" content="bookstore">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<header>
    <img src="img/02.png" alt="" class="banner">
    <nav>
        <ul class="top-menu">
            <li class="category menu-item">
                <span class="newer-tips"></span>
                <i class="menu-icon"></i>
                <p>分类</p>
            </li>
            <li class="range menu-item">
                <span class="newer-tips"></span>
                <i class="menu-icon"></i>
                <p>排行</p>
            </li>
            <li class="cheap menu-item">
                <span class="newer-tips"></span>
                <i class="menu-icon"></i>
                <p>超值</p>
            </li>
            <li class="free menu-item">
                <span class="newer-tips"></span>
                <i class="menu-icon"></i>
                <p>免费</p>
            </li>
        </ul>
    </nav>
</header>
<section class="panel">
    <div class="panel-heading">
        <h2>精选书单</h2>
        <p>精心挑选，超值推荐~</p>
    </div>
    <div class="panel-content">
        <ul class="book-list">
            <li class="book-item">
                <a href="javascript:void(0);">
                    <div class="book-img">
                        <span>
                            <img src="img/6.jpg" alt="">
                        </span>
                    </div>
                    <div class="book-info">
                        <h4>第一章</h4>
                        <p class="book-desc">四爷：晚上让膳房给爷上道鱼翅螃蟹羹。苏培盛心道：
                            吹牛。十几年也没见你吃过一次。晚上，李薇拌着螃蟹羹美美地多吃了一
                            碗饭。做宠妃好无聊，要温柔，要低调，但是幸好——李薇：宝石好漂亮，
                            钗子好精致……四爷：买...爷
                        </p>
                        <p class="book-author">
                            辰东
                            <span class="label">
                                玄幻
                            </span>
                        </p>
                    </div>
                </a>
            </li>
            <li class="book-item">
                <a href="javascript:void(0);">
                    <div class="book-img">
                        <span>
                            <img src="img/6.jpg" alt="">
                        </span>
                    </div>
                    <div class="book-info">
                        <h4>第二章</h4>
                        <p class="book-desc">晚上，李薇拌着螃蟹羹美美地多吃了一
                            碗饭。做宠妃好无聊，要温柔，要低调，但是幸好——李薇：宝石好漂亮，
                            钗子好精致……四爷：买...四爷：晚上让膳房给爷上道鱼翅螃蟹羹。苏培盛心道：
                            吹牛。十几年也没见你吃过一次。
                        </p>
                        <p class="book-author">
                            辰东
                             <span class="label">
                                玄幻
                            </span>
                        </p>
                    </div>
                </a>
            </li>
            <li class="book-item">
                <a href="javascript:void(0);">
                    <div class="book-img">
                        <span>
                            <img src="img/6.jpg" alt="">
                        </span>
                    </div>
                    <div class="book-info">
                        <h4>第三章</h4>
                        <p class="book-desc">做宠妃好无聊，要温柔，要低调，但是幸好——李薇：宝石好漂亮，
                            钗子好精致……四爷：买...四爷：晚上让膳房给爷上道鱼翅螃蟹羹。苏培盛心道：
                            吹牛。十几年也没见你吃过一次。晚上，李薇拌着螃蟹羹美美地多吃了一
                            碗饭。
                        </p>
                        <p class="book-author">
                            辰东
                             <span class="label">
                                玄幻
                            </span>
                        </p>
                    </div>
                </a>
            </li>
        </ul>
    </div>

    <a href="javascript:void(0)" class="book-more">
        更多
    </a>
</section>

<section class="panel">
    <div class="panel-heading">
        <h2>人气榜</h2>
        <p>再不看你就out啦~</p>
    </div>
    <div class="panel-content">
        <ul class="suggest-list">
            <li class="suggest-item">
                <img src="img/6.jpg" alt="">
                <h4>男生原创榜</h4>
                <p>男生最爱看的，你懂得</p>
            </li>
            <li class="suggest-item">
                <img src="img/6.jpg" alt="">
                <h4>女生原创榜</h4>
                <p>女生最爱看的，你懂得</p>
            </li>
            <li class="suggest-item">
                <img src="img/6.jpg" alt="">
                <h4>出版原创榜</h4>
                <p>出版图书排行必看</p>
            </li>
        </ul>
    </div>
</section>
<footer>
    <p>友情链接: <span>Nerona</span><span>Html5</span><span>Download App</span></p>
    <p>Copyright@2016-2116 Nerona.All Rights Reserved</p>
    <p>http://nerona.github.io</p>
</footer>

<div class="shine-box">
    滑动解锁》》》
</div>

<canvas id="canvasNode"></canvas>
<script>
    document.addEventListener('DOMContentLoaded', function(){
        var html = document.documentElement;
        var eleWidth = html.clientWidth;
        console.log(eleWidth);
        html.style.fontSize = eleWidth /　6.4 + 'px';
    }, false);

    (function() {
        var moveCount = 0;
        var wid = window.innerWidth;

        function createCanvas() {
            var canvas = document.getElementById("canvasNode");
            canvas.width = wid;
            var context = canvas.getContext("2d");
            var pic = new Image();
            pic.src = "http://i.gtimg.cn/vipstyle/special/birthday2014vc/img/cover.jpg";
            context.fillStyle = "#fffbeb";
            context.fillRect(0,0,wid,300);
            pic.onload=function(){
                context.drawImage(pic,(wid-320)/2,0,320,300);
            };
            return canvas;
        }
        function init(width, height, fillColor) {
            var canvas = createCanvas();
            var ctx = canvas.getContext("2d");

            ctx.fillCircle = function(x, y, radius, fillColor) {
                this.fillStyle = fillColor;
                this.beginPath();
                this.moveTo(x, y);
                this.arc(x, y, radius, 0, Math.PI * 2, false);
                this.fill();
            };

            $(canvas).on('touchstart',function(e){
                canvas.isDrawing = true;
                document.getElementById("handing").className="";
                e.preventDefault();
            }).on('touchmove', function(e){
                moveCount++;
                if (!canvas.isDrawing) {
                    return;
                }
                if (true) {
                    var x = e.changedTouches[0].pageX - this.offsetLeft;
                    var y = e.changedTouches[0].pageY - this.offsetTop;
                } else {
                    var x = e.pageX - this.offsetLeft;
                    var y = e.pageY - this.offsetTop;
                }
                var radius = 20;
                var fillColor = '#ffffff';
                ctx.globalAlpha=0.6;
                ctx.globalCompositeOperation = 'destination-out';
                if(moveCount<240){
                    ctx.fillCircle(x, y, radius, fillColor);
                }else{
                    ctx.fillRect(0,0,wid,300);
                    document.getElementById("wording").className="wording show";
                }
            }).on('touchend', function(e){
                canvas.isDrawing = false;
            });
        }
        init(320, 300, '#ffffff');

    })();
</script>
</body>
</html>