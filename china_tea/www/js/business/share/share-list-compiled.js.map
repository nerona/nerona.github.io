{"version":3,"sources":["share-list.js"],"names":[],"mappings":"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","file":"share-list-compiled.js","sourcesContent":["$(function () {\r\n    $(\".all-type-p\").on(\"click\", function () {\r\n        $(\".article-bar-list\").show();\r\n        $(\"body\").css({\"overflow\": \"hidden\"});\r\n    });\r\n    $(\".article-bar-list\").on(\"click\", function (e) {\r\n        var target = $(e.target);\r\n        if (target.closest(\".share-content\").length == 0) {\r\n            $(this).hide();\r\n            $(\"body\").css({\"overflow\": \"visible\"});\r\n        }\r\n    });\r\n    //初始化加载元素\r\n    business.share.init();\r\n});\r\nvar business = business || {};\r\nbusiness.share = {\r\n    pageSize: 6, //默认一次加载6条\r\n    pageNum: 0,//默认为1\r\n    classifyId: '',\r\n    updateTime: '',//排序:填入”1”,否则填空就行\r\n    readNum: '',//排序:填入”1”,否则填空就行\r\n    init: function () {\r\n        this.loadList();\r\n        this.loadClassify();\r\n    },\r\n    //初始化加载\r\n    loadList: function () {\r\n        var url = Util.common.baseUrl + \"/mobile/getSpreadList.do\";\r\n        var conditionS = {\r\n            classifyId: business.share.classifyId,\r\n            updateTime: business.share.updateTime,\r\n            readNum: business.share.readNum\r\n        };\r\n        var param = {\r\n            conditionStr: JSON.stringify(conditionS),\r\n            start: this.pageNum\r\n        };\r\n        //this.executeAjax(url, param, \"#thelist\", \"#share_list_t\");\r\n        Util.common.executeAjaxCallback(url, param, function (data) {\r\n            if (data && data.length > 0) {\r\n                $(\"#thelist\").html($(\"#share_list_t\").tmpl(data));\r\n            } else {\r\n                $(\"#thelist\").html('<li style=\"border-bottom: none;\"><div style=\"text-align: center;color:  #999999;margin-top: 8rem;border-bottom: none;\"> 没有数据了</div></li>');\r\n            }\r\n        });\r\n    },\r\n    loadClassify: function () {\r\n        var url = Util.common.baseUrl + \"/mobile/findAllSpreadClassifyOnStatus.do\";\r\n        Util.common.executeAjaxCallback(url, {}, function (data) {\r\n            $(\"#share_classify_t\").tmpl(data).appendTo('#theclassify');\r\n        });\r\n    },\r\n    setCreateTimeOrder: function (obj) {\r\n        business.share.readNum = '';\r\n        if (business.share.updateTime == '') {\r\n            business.share.updateTime = '1';\r\n        } else {\r\n            business.share.updateTime = '';\r\n        }\r\n        business.share.loadList();\r\n        this.pageNum = 0;\r\n    },\r\n    setReadNumOrder: function (obj) {\r\n        business.share.updateTime = '';\r\n        if (business.share.readNum == '') {\r\n            business.share.readNum = '1';\r\n        } else {\r\n            business.share.readNum = '';\r\n        }\r\n        business.share.loadList();\r\n        this.pageNum = 0;\r\n    },\r\n    executeAjax: function (url, param, render, templateId) {\r\n        Util.common.executeAjaxCallback(url, param, function (data) {\r\n            $(render).html($(templateId).tmpl(data));\r\n        });\r\n    },\r\n    loadTemplate: function (render, templateId, data) {\r\n        $(render).html($(templateId).tmpl(data));\r\n    },\r\n    /**\r\n     * 单击营销推广分类列表\r\n     */\r\n    classifyClick: function (obj, classify) {\r\n        $(\"#article-bar-list\").find(\"li\").removeClass(\"checked-bar\");\r\n        $(obj).addClass(\"checked-bar\");\r\n        $(\".article-bar-list\").hide();\r\n        $(\"body\").css({\"overflow\": \"visible\"});\r\n        $(\".all-type-p\").html(obj.innerText);\r\n        business.share.classifyId = classify\r\n        business.share.loadList();\r\n        this.pageNum = 0;\r\n    }\r\n}\r\n\r\n//初始化绑定iScroll控件\r\ndocument.addEventListener('touchmove', function (e) {\r\n    e.preventDefault();\r\n}, false);\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    loaded(\"share_list\")\r\n}, false);\r\nvar myScroll;\r\n//下拉刷新\r\nfunction pullDownAction() {\r\n    myScroll.refresh();\r\n}\r\n//滚动翻页 （自定义实现此方法）\r\nfunction pullUpAction() {\r\n    var url = Util.common.baseUrl + \"/mobile/getSpreadList.do\";\r\n    var pageNum = business.share.pageNum + business.share.pageSize;\r\n    var param = {\r\n        conditionStr: '{\"conditions\":\"%%\",\"studyType\":\"0\",\"studyChildType\":\"0\",\"createTimeOrder\":\"asc\",\"readNumOrder\":\"asc\",\"type\":\"0\"}',\r\n        limit: business.share.pageSize,\r\n        start: pageNum\r\n    };\r\n    Util.common.executeAjaxCallback(url, param, function (data) {\r\n        if (data && data.length > 0) {\r\n            business.share.pageNum = pageNum;\r\n        }\r\n        $(\"#thelist\").append($(\"#share_list_t\").tmpl(data));\r\n        myScroll.refresh();\t\t//调用刷新页面myScroll.refresh();\r\n    });\r\n}\r\n"]}