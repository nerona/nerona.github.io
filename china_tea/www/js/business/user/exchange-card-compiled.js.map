{"version":3,"sources":["exchange-card.js"],"names":[],"mappings":";;AAAA,EAAE,YAAY;;AAEV,aAAS,IAAT,CAAc,IAAd,GAFU;AAGV,MAAE,2BAAF,EAA+B,EAA/B,CAAkC,OAAlC,EAA2C,GAA3C,EAAgD,YAAY;AACxD,UAAE,2BAAF,EAA+B,IAA/B,CAAoC,GAApC,EAAyC,WAAzC,CAAqD,yBAArD,EADwD;AAExD,UAAE,IAAF,EAAQ,QAAR,CAAiB,yBAAjB,EAFwD;KAAZ,CAAhD,CAHU;CAAZ,CAAF;AAQA,IAAI,WAAW,YAAY,EAAZ;AACf,SAAS,IAAT,GAAgB;AACZ,cAAU,CAAV;AACA,aAAS,CAAT;AACA,cAAU,IAAV;AACA,UAAM,gBAAY;AACd,aAAK,QAAL,GAAgB,KAAK,MAAL,CAAY,YAAZ,CAAyB,IAAzB,CAAhB,CADc;AAEd,aAAK,QAAL,CAAc,CAAd,EAFc;KAAZ;;AAKN,cAAU,kBAAU,MAAV,EAAkB;AACxB,YAAI,MAAM,KAAK,MAAL,CAAY,OAAZ,GAAsB,yCAAtB;;AADc,YAGpB,QAAQ;AACR,wBAAY,SAAS,IAAT,CAAc,QAAd;AACZ,sBAAU,MAAV;AACA,wBAAY,KAAK,QAAL;AACZ,uBAAW,KAAK,OAAL;SAJX,CAHoB;AASxB,aAAK,WAAL,CAAiB,GAAjB,EAAsB,KAAtB,EAA6B,UAA7B,EAAyC,cAAzC,EATwB;KAAlB;AAWV,iBAAa,qBAAU,GAAV,EAAe,KAAf,EAAsB,MAAtB,EAA8B,UAA9B,EAA0C;AACnD,aAAK,MAAL,CAAY,mBAAZ,CAAgC,GAAhC,EAAqC,KAArC,EAA4C,UAAU,IAAV,EAAgB;AACxD,cAAE,MAAF,EAAU,IAAV,CAAe,EAAE,UAAF,EAAc,IAAd,CAAmB,IAAnB,CAAf,EADwD;SAAhB,CAA5C,CADmD;KAA1C;AAKb,iBAAa,qBAAU,MAAV,EAAkB;AAC3B,aAAK,QAAL,CAAc,MAAd,EAD2B;AAE3B,iBAAS,OAAT,GAF2B;KAAlB;CAzBjB;;;AAgCA,SAAS,gBAAT,CAA0B,WAA1B,EAAuC,UAAU,CAAV,EAAa;AAChD,MAAE,cAAF,GADgD;CAAb,EAEpC,KAFH;AAGA,SAAS,gBAAT,CAA0B,kBAA1B,EAA8C,YAAY;AACtD,WAAO,WAAP,EADsD;CAAZ,EAE3C,KAFH;AAGA,IAAI,QAAJ;;AAEA,SAAS,cAAT,GAA0B;AACtB,aAAS,OAAT,GADsB;CAA1B;;AAIA,SAAS,YAAT,GAAwB;AACpB,QAAI,MAAM,KAAK,MAAL,CAAY,OAAZ,GAAsB,yCAAtB;;AADU,QAGhB,QAAQ;AACR,oBAAY,SAAS,IAAT,CAAc,QAAd;AACZ,kBAAU,MAAV;AACA,oBAAY,SAAS,IAAT,CAAc,QAAd;AACZ,mBAAW,SAAS,IAAT,CAAc,OAAd,GAAwB,CAAxB;KAJX,CAHgB;AASpB,SAAK,MAAL,CAAY,mBAAZ,CAAgC,GAAhC,EAAqC,KAArC,EAA4C,UAAU,IAAV,EAAgB;AACxD,YAAI,QAAQ,KAAK,MAAL,GAAc,CAAd,EAAiB;AACzB,qBAAS,IAAT,CAAc,OAAd,IAAyB,CAAzB,CADyB;AAEzB,cAAE,UAAF,EAAc,MAAd,CAAqB,EAAE,cAAF,EAAkB,IAAlB,CAAuB,IAAvB,CAArB,EAFyB;SAA7B;AAIA,iBAAS,OAAT;AALwD,KAAhB,CAA5C,CAToB;CAAxB","file":"exchange-card-compiled.js","sourcesContent":["$(function () {\r\n    //初始化加载元素\r\n    business.card.init();\r\n    $(\".my-exchange-card-top-bar\").on(\"click\", 'a', function () {\r\n        $(\".my-exchange-card-top-bar\").find('a').removeClass(\"my-exchange-card-active\");\r\n        $(this).addClass(\"my-exchange-card-active\");\r\n    })\r\n});\r\nvar business = business || {};\r\nbusiness.card = {\r\n    pageSize: 6, //默认一次加载6条\r\n    pageNum: 1,//默认为1\r\n    vocherId: null,\r\n    init: function () {\r\n        this.vocherId = Util.common.getParameter(\"id\");\r\n        this.loadList(1);\r\n    },\r\n    //初始化加载收藏列表\r\n    loadList: function (status) {\r\n        var url = Util.common.baseUrl + \"/mobile/voucher/getVoucherDetailList.do\";\r\n        //status -1-全部 1-未兑换2-已兑换\r\n        var param = {\r\n            \"vocherId\": business.card.vocherId,\r\n            \"status\": status,\r\n            \"pageSize\": this.pageSize,\r\n            \"pageNum\": this.pageNum\r\n        };\r\n        this.executeAjax(url, param, \"#thelist\", \"#card_list_t\");\r\n    },\r\n    executeAjax: function (url, param, render, templateId) {\r\n        Util.common.executeAjaxCallback(url, param, function (data) {\r\n            $(render).html($(templateId).tmpl(data));\r\n        });\r\n    },\r\n    exchangeTab: function (status) {\r\n        this.loadList(status);\r\n        myScroll.refresh();\r\n    }\r\n}\r\n\r\n//初始化绑定iScroll控件\r\ndocument.addEventListener('touchmove', function (e) {\r\n    e.preventDefault();\r\n}, false);\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    loaded(\"card_list\")\r\n}, false);\r\nvar myScroll;\r\n//下拉刷新\r\nfunction pullDownAction() {\r\n    myScroll.refresh();\r\n}\r\n//滚动翻页 （自定义实现此方法）\r\nfunction pullUpAction() {\r\n    var url = Util.common.baseUrl + \"/mobile/voucher/getVoucherDetailList.do\";\r\n    //status -1-全部 1-未兑换2-已兑换\r\n    var param = {\r\n        \"vocherId\": business.card.vocherId,\r\n        \"status\": status,\r\n        \"pageSize\": business.card.pageSize,\r\n        \"pageNum\": business.card.pageNum + 1\r\n    };\r\n    Util.common.executeAjaxCallback(url, param, function (data) {\r\n        if (data && data.length > 0) {\r\n            business.card.pageNum += 1;\r\n            $(\"#thelist\").append($(\"#card_list_t\").tmpl(data));\r\n        }\r\n        myScroll.refresh();\t\t//调用刷新页面myScroll.refresh();\r\n    });\r\n}"]}