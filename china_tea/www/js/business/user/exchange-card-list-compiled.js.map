{"version":3,"sources":["exchange-card-list.js"],"names":[],"mappings":";;AAAA,EAAE,YAAY;;AAEV,aAAS,QAAT,CAAkB,IAAlB,GAFU;CAAZ,CAAF;AAIA,IAAI,WAAW,YAAY,EAAZ;AACf,SAAS,QAAT,GAAoB;AAChB,cAAU,CAAV;AACA,aAAS,CAAT;AACA,YAAQ,IAAR;AACA,UAAM,gBAAY;AACd,aAAK,MAAL,GAAc,KAAK,MAAL,CAAY,YAAZ,CAAyB,QAAzB,CAAd,CADc;AAEd,aAAK,QAAL,GAFc;KAAZ;;AAKN,cAAU,oBAAY;AAClB,YAAI,MAAM,KAAK,MAAL,CAAY,OAAZ,GAAsB,mCAAtB,CADQ;AAElB,YAAI,QAAQ,EAAC,UAAU,SAAS,QAAT,CAAkB,MAAlB,EAA0B,YAAY,KAAK,QAAL,EAAe,WAAW,KAAK,OAAL,EAAnF,CAFc;AAGlB,aAAK,WAAL,CAAiB,GAAjB,EAAsB,KAAtB,EAA6B,UAA7B,EAAyC,cAAzC,EAHkB;KAAZ;AAKV,iBAAa,qBAAU,GAAV,EAAe,KAAf,EAAsB,MAAtB,EAA8B,UAA9B,EAA0C;AACnD,aAAK,MAAL,CAAY,mBAAZ,CAAgC,GAAhC,EAAqC,KAArC,EAA4C,UAAU,IAAV,EAAgB;AACxD,cAAE,MAAF,EAAU,IAAV,CAAe,EAAE,UAAF,EAAc,IAAd,CAAmB,IAAnB,CAAf,EADwD;SAAhB,CAA5C,CADmD;KAA1C;AAKb,kBAAc,sBAAU,MAAV,EAAkB,UAAlB,EAA8B,IAA9B,EAAoC;AAC9C,UAAE,MAAF,EAAU,IAAV,CAAe,EAAE,UAAF,EAAc,IAAd,CAAmB,IAAnB,CAAf,EAD8C;KAApC;CAnBlB;;;AAyBA,SAAS,gBAAT,CAA0B,WAA1B,EAAuC,UAAU,CAAV,EAAa;AAChD,MAAE,cAAF,GADgD;CAAb,EAEpC,KAFH;AAGA,SAAS,gBAAT,CAA0B,kBAA1B,EAA8C,YAAY;AACtD,WAAO,WAAP,EADsD;CAAZ,EAE3C,KAFH;AAGA,IAAI,QAAJ;;AAEA,SAAS,cAAT,GAA0B;AACtB,aAAS,OAAT,GADsB;CAA1B;;AAIA,SAAS,YAAT,GAAwB;AACpB,QAAI,MAAM,KAAK,MAAL,CAAY,OAAZ,GAAsB,mCAAtB,CADU;AAEpB,QAAI,UAAU,SAAS,QAAT,CAAkB,OAAlB,GAA4B,CAA5B,CAFM;AAGpB,QAAI,QAAQ,EAAC,UAAU,SAAS,QAAT,CAAkB,MAAlB,EAA0B,YAAY,SAAS,QAAT,CAAkB,QAAlB,EAA4B,WAAW,OAAX,EAArF,CAHgB;AAIpB,SAAK,MAAL,CAAY,mBAAZ,CAAgC,GAAhC,EAAqC,KAArC,EAA4C,UAAU,IAAV,EAAgB;AACxD,YAAI,KAAK,MAAL,GAAc,CAAd,EAAiB;AACjB,qBAAS,QAAT,CAAkB,OAAlB,GAA4B,OAA5B,CADiB;AAEjB,cAAE,UAAF,EAAc,MAAd,CAAqB,EAAE,cAAF,EAAkB,IAAlB,CAAuB,IAAvB,CAArB,EAFiB;SAArB;AAIA,iBAAS,OAAT;AALwD,KAAhB,CAA5C,CAJoB;CAAxB","file":"exchange-card-list-compiled.js","sourcesContent":["$(function () {\r\n    //初始化加载元素\r\n    business.cardList.init();\r\n});\r\nvar business = business || {};\r\nbusiness.cardList = {\r\n    pageSize: 6, //默认一次加载6条\r\n    pageNum: 1,//默认为1\r\n    shopId: null,\r\n    init: function () {\r\n        this.shopId = Util.common.getParameter(\"shopId\")\r\n        this.loadList();\r\n    },\r\n    //初始化加载收藏列表\r\n    loadList: function () {\r\n        var url = Util.common.baseUrl + \"/mobile/voucher/getVoucherList.do\";\r\n        var param = {\"shopId\": business.cardList.shopId, \"pageSize\": this.pageSize, \"pageNum\": this.pageNum};\r\n        this.executeAjax(url, param, \"#thelist\", \"#card_list_t\");\r\n    },\r\n    executeAjax: function (url, param, render, templateId) {\r\n        Util.common.executeAjaxCallback(url, param, function (data) {\r\n            $(render).html($(templateId).tmpl(data));\r\n        });\r\n    },\r\n    loadTemplate: function (render, templateId, data) {\r\n        $(render).html($(templateId).tmpl(data));\r\n    }\r\n}\r\n\r\n//初始化绑定iScroll控件\r\ndocument.addEventListener('touchmove', function (e) {\r\n    e.preventDefault();\r\n}, false);\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    loaded(\"card_list\")\r\n}, false);\r\nvar myScroll;\r\n//下拉刷新\r\nfunction pullDownAction() {\r\n    myScroll.refresh();\r\n}\r\n//滚动翻页 （自定义实现此方法）\r\nfunction pullUpAction() {\r\n    var url = Util.common.baseUrl + \"/mobile/voucher/getVoucherList.do\";\r\n    var pageNum = business.cardList.pageNum + 1;\r\n    var param = {\"shopId\": business.cardList.shopId, \"pageSize\": business.cardList.pageSize, \"pageNum\": pageNum};\r\n    Util.common.executeAjaxCallback(url, param, function (data) {\r\n        if (data.length > 0) {\r\n            business.cardList.pageNum = pageNum;\r\n            $(\"#thelist\").append($(\"#card_list_t\").tmpl(data));\r\n        }\r\n        myScroll.refresh();\t\t//调用刷新页面myScroll.refresh();\r\n    });\r\n}"]}