{"version":3,"sources":["manager-shop.js"],"names":[],"mappings":"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","file":"manager-shop-compiled.js","sourcesContent":["$(function () {\r\n    //初始化加载元素\r\n    business.MangerShop.loadList(1);\r\n    $(\".manager-shop-top-bar\").on(\"click\", \"a\", function () {\r\n        $(\".manager-shop-top-bar\").find(\"a\").removeClass(\"manager-shop-bar-a-active\");\r\n        $(this).addClass(\"manager-shop-bar-a-active\");\r\n    });\r\n    /*$(\".goods-search-cancel-a\").on(\"click\",function () {\r\n     $(\".my-header-search\").hide();\r\n     $(\"#my-header\").show();\r\n     });*/\r\n    $(\".my-header-ddd-btn\").on(\"click\", function () {\r\n        $('#goodSearchId').val('');\r\n        $(\".my-header-search\").show();\r\n        $(\"#my-header\").hide();\r\n    });\r\n    $(\".clear-a-text\").on(\"click\", function () {\r\n        $('#goodSearchId').val('');\r\n        business.MangerShop.exchangeBtn();\r\n    });\r\n\r\n    //监听搜索框变化事件,以切换搜索与取消显示\r\n    $('#goodSearchId').bind('input propertychange', function (event) {\r\n        business.MangerShop.exchangeBtn();\r\n    });\r\n});\r\nvar business = business || {};\r\nbusiness.MangerShop = {\r\n    pageSize: 6, //默认一次加载6条\r\n    pageNum: 1,//默认为1\r\n    type: 1,//1 出售中，2 已下架商品\r\n    //初始化加载收藏列表\r\n    loadList: function (type) {\r\n        this.pageNum = 1; //切换tab重新查询\r\n        var url = Util.common.baseUrl;\r\n        if (this.type == 1) {\r\n            url += \"/mobile/good/getSaleGoodList.do\";\r\n        } else {\r\n            url += \"/mobile/good/getUnshelveGoodList.do\";\r\n        }\r\n\r\n        var param = {\"shopId\": Util.common.getParameter(\"shopId\"), \"pageSize\": this.pageSize, \"pageNum\": this.pageNum};\r\n        Util.common.executeAjaxCallback(url, param, function (data) {\r\n            if (data.length > 0) {\r\n                $(\"#thelist\").html($(\"#list_t\").tmpl(data));\r\n            } else {\r\n                $(\"#thelist\").html('<li><div style=\"text-align: center;\">  <img src=\"imgs/test-img/no-search-result.png\"/></div></li>');\r\n            }\r\n\r\n        });\r\n    },\r\n    //切换tab 1 出售中，2 已下架商品\r\n    exchangeTab: function (type) {\r\n        this.type = type;\r\n        this.loadList(type);\r\n        myScroll.refresh();\r\n    },\r\n    toEWM: function () {\r\n        location.href = 'html/business/shop/shop-ewm-share.html?shopId=' + Util.common.getParameter(\"shopId\");\r\n    },\r\n    //回到顶部\r\n    toTop: function () {\r\n        myScroll.scrollTo(0, 0);\r\n    },\r\n    //跳转到商品详情页面\r\n    toDetails: function (id) {\r\n        document.location.href = \"html/business/shop/goods-detail.html?id=\" + id + \"&shopId=\" + Util.common.getParameter(\"shopId\");\r\n\r\n    },\r\n    //跳转到批量处理页面\r\n    toBatchManager: function () {\r\n        document.location.href = \"html/business/shop/batch-manager.html?type=\" + business.MangerShop.type + \"&shopId=\" + Util.common.getParameter(\"shopId\");\r\n    },\r\n    searchBtn: function (obj) {\r\n        document.location.href = \"html/business/shop/search-goods.html?goodsName=\" + $('#goodSearchId').val() + \"&shopId=\" + Util.common.getParameter(\"shopId\");\r\n    },\r\n    cancelBtn: function () {\r\n        $(\".my-header-search\").hide();\r\n        $(\"#my-header\").show();\r\n    },\r\n    exchangeBtn: function () {\r\n        var searchVal = $('#goodSearchId').val();\r\n        if (Util.string.isEmpty(searchVal)) {\r\n            $(\"#submitBtn\").html('<a  class=\"goods-search-cancel-a\" data-role=\"none\" href=\"#\" onclick=\"business.MangerShop.cancelBtn(this)\">取消</a>');\r\n        } else {\r\n            $(\"#submitBtn\").html('<a  class=\"goods-search-cancel-a\" type=\"button\" data-role=\"none\" href=\"#\"  onclick=\"business.MangerShop.searchBtn(this)\">搜索</a>');\r\n        }\r\n    }\r\n}\r\n//初始化绑定iScroll控件\r\ndocument.addEventListener('touchmove', function (e) {\r\n    e.preventDefault();\r\n}, false);\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    loaded(\"scroll-list\")\r\n}, false);\r\nvar myScroll;\r\n//下拉刷新\r\nfunction pullDownAction() {\r\n    myScroll.refresh();\r\n}\r\n//滚动翻页 （自定义实现此方法）\r\nfunction pullUpAction() {\r\n    var url = Util.common.baseUrl;\r\n    if (this.type == 1) {\r\n        url += \"/mobile/good/getSaleGoodList.do\";\r\n    } else {\r\n        url += \"/mobile/good/getUnshelveGoodList.do\";\r\n    }\r\n    var param = {\r\n        \"shopId\": Util.common.getParameter(\"shopId\"),\r\n        \"pageSize\": business.MangerShop.pageSize,\r\n        \"pageNum\": business.MangerShop.pageNum + 1\r\n    };\r\n    Util.common.executeAjaxCallback(url, param, function (data) {\r\n        if (data.length > 0) {\r\n            $(\"#thelist\").append($(\"#list_t\").tmpl(data));\r\n            business.MangerShop.pageNum += 1;\r\n        }\r\n        myScroll.refresh();\r\n    });\r\n}"]}