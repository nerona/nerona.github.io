{"version":3,"sources":["detailsCoupon.js"],"names":[],"mappings":"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","file":"detailsCoupon-compiled.js","sourcesContent":["/**\r\n * Created by dell on 2016/6/15.\r\n */\r\n$(function () {\r\n    $('#back').attr('href',localStorage.getItem('searchPage'));\r\n    localStorage.setItem('orderPage', 'html/customer/details/details.html?id='+Util.common.getParameter(\"id\"));\r\n    customer.details.init();\r\n    customer.details.initSc();\r\n\r\n    //customer.details.wxInit();\r\n    $('#detailCommentTabs').on('click', '.tabs a', function () {\r\n        $(this).parent().parent().find('.ui-btn-active').removeClass('ui-btn-active');\r\n        $(this).addClass('ui-btn-active');\r\n        if ($(this).find('span').html() == '买家评论') {\r\n            $('#commentTab').show();\r\n            $('#detailTab').hide();\r\n        }\r\n        if ($(this).find('span').html() == '商品详情') {\r\n            $('#commentTab').hide();\r\n            $('#detailTab').show();\r\n        }\r\n    });\r\n\r\n    setTimeout(function(){\r\n        $('.sp-desc-font-e li').html(localStorage.getItem('my_name'));\r\n    }, 100);\r\n});\r\n\r\nvar customer = customer || {};\r\ncustomer.details = {\r\n    conditionStr: {},\r\n    wxInit: function () {\r\n        var url = Util.common.baseUrl + \"/weixin/weixinConfig/verification.do\";\r\n        var currentUrl = \"weixinfront/html/customer/details/details.html?id=\" + Util.common.getParameter(\"id\");\r\n        var param = {\"url\": currentUrl};\r\n        Util.common.executeAjaxCallback(url, param, function (data) {\r\n            if (data.success) {\r\n                wx.config({\r\n                    debug: false,\r\n                    appId: data.msg.appId,\r\n                    timestamp: data.msg.timestamp,\r\n                    nonceStr: data.msg.nonceStr,\r\n                    signature: data.msg.signature,\r\n                    jsApiList: [\r\n                        // 所有要调用的 API 都要加到这个列表中\r\n                        'checkJsApi',\r\n                        'onMenuShareTimeline',\r\n                        'onMenuShareAppMessage'\r\n                    ]\r\n                });\r\n                wx.ready(function () {\r\n                    var imageSrc = $(\".slides\").find('li').eq(0).find('img').attr('src');\r\n                    var shareUrl = Util.common.baseUrl + 'weixin/weixinClient/index.do?from=weixinfront/html/customer/details/details.html?id=' + Util.common.getParameter(\"id\");\r\n                    var title = $(\"#goodsName\").text();\r\n                    var desc = $(\"#goodsName\").text();\r\n                    $(\"#wxShareLink\").on(\"click\", function () {\r\n                        wx.onMenuShareAppMessage({\r\n                            title: $(\"#goodsName\").text(), // 分享标题\r\n                            desc: $(\"#goodsName\").text(), // 分享描述\r\n                            link: shareUrl, // 分享链接\r\n                            imgUrl: imageSrc, // 分享图标\r\n                            type: 'link', // 分享类型,music、video或link，不填默认为link\r\n                            dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空\r\n                            success: function () {\r\n                                // 用户确认分享后执行的回调函数\r\n                                Util.msg.show(\"msgId\", \"分享成功\");\r\n                            },\r\n                            cancel: function () {\r\n                                // 用户取消分享后执行的回调函数\r\n                                Util.msg.show(\"msgId\", \"分享失败\");\r\n                            }\r\n                        });\r\n                    });\r\n                    $(\"#wxCircleShareLink\").on(\"click\", function () {\r\n                        wx.onMenuShareTimeline({\r\n                            title: $(\"#goodsName\").text(), // 分享标题\r\n                            link: shareUrl, // 分享链接\r\n                            imgUrl: imageSrc, // 分享图标\r\n                            success: function () {\r\n                                // 用户确认分享后执行的回调函数\r\n                                Util.msg.show(\"msgId\", \"分享成功\");\r\n                            },\r\n                            cancel: function () {\r\n                                // 用户取消分享后执行的回调函数\r\n                                Util.msg.show(\"msgId\", \"分享失败\");\r\n                            }\r\n                        });\r\n                    })\r\n                    var shareData = {\r\n                        title: title,\r\n                        desc: desc,\r\n                        link: shareUrl,\r\n                        imgUrl: imageSrc\r\n                    };\r\n                    wx.onMenuShareAppMessage(shareData);\r\n                    wx.onMenuShareTimeline(shareData);\r\n\r\n                });\r\n            }\r\n        })\r\n    },\r\n    init: function () {\r\n        var url = Util.common.baseUrl + \"/weixin/good/getGoodDetail.do\";\r\n        var param = {\"goodId\": Util.common.getParameter(\"id\")};\r\n\r\n        localStorage.setItem('goodId', Util.common.getParameter(\"id\"));\r\n        Util.common.executeAjaxCallback(url, param, function (data) {\r\n            localStorage.setItem('skuId', data.goodSkuList[0].id);\r\n            //图片轮播\r\n            $(\"#slider-content\").html($(\"#goodsDetail_showImage_t\").tmpl(data.showImages));\r\n            //商品描述\r\n            $(\"#sp-desc-id .sp-desc-a\").html($(\"#sp-desc-t\").tmpl(data));\r\n            //商品描述(运费,收藏,月销量)\r\n            $(\"#sp-desc-ysy\").html($(\"#sp-desc-ysy-t\").tmpl(data));\r\n            //详情图片\r\n            $(\"#detailTab\").html($(\"#detailTab_t\").tmpl(data.detailImages.images));\r\n            //买家评论\r\n            $(\"#commentTab\").html($(\"#commentTab_t\").tmpl(data.goodEvaluationList));\r\n\r\n            if (data.goodEvaluationList == null || data.goodEvaluationList == '') {\r\n                $('#commentTab').html('<p style=\"text-align: center;padding: 10px 0;letter-spacing: 1px;\">暂无评价</p>');\r\n            }\r\n\r\n            localStorage.setItem('nums', data.goodSkuList[0].nums);\r\n\r\n            customer.details.initEvent(data);\r\n        });\r\n    },\r\n    initEvent: function (data) {\r\n        /*图片轮播*/\r\n        $(\"#slider-content\").swiper({\r\n            slidesPerView: 1,\r\n            autoplay: 2500,\r\n            loop: true,\r\n            effect: 'fade',\r\n            fade: {\r\n                crossFade: true\r\n            },\r\n            speed: 1000,\r\n            autoplayDisableOnInteraction: false,\r\n            pagination: '.swiper-pagination',\r\n            spaceBetween: 0\r\n        });\r\n    },\r\n    //获取收藏状态\r\n    initSc: function () {\r\n        var url = Util.common.baseUrl + \"/weixin/store/queryStore.do\";\r\n        var param = {\"userId\": localStorage.getItem(\"userid\"), \"shopId\": localStorage.getItem(\"shopId\")};\r\n        var this_id = Util.common.getParameter('id');\r\n        Util.common.executeAjaxCallback(url, param, function (data) {\r\n            for (var i = 0; i < data.length; i++) {\r\n                var temp = data[i].goodId;\r\n                if (this_id == temp) {\r\n                    $('#spxq_sc_dj_id').addClass('sc-share-active');\r\n                }\r\n            }\r\n        });\r\n    },\r\n    addFav: function () {\r\n        var url = Util.common.baseUrl + \"/weixin/store/addStore.do\";\r\n        var param = {\r\n            \"userId\": localStorage.getItem(\"userid\"),\r\n            \"goodsId\": localStorage.getItem(\"goodId\"),\r\n            \"shopId\": localStorage.getItem(\"shopId\"),\r\n            \"count\": $(\"#quantity\").val()\r\n        };\r\n        if ($('#spxq_sc_dj_id').hasClass('sc-share-active')) {\r\n            Util.msg.show(\"msgId\", \"已收藏\");\r\n        } else {\r\n            Util.common.executeAjaxCallback(url, param, function (data) {\r\n                //{\"msg\":\"操作成功\",\"code\":\"000000\"}\r\n                if (data.msg == \"操作成功\") {\r\n                    $('#spxq_sc_dj_id').addClass('sc-share-active');\r\n                    Util.msg.show(\"msgId\", \"收藏成功\");\r\n                }\r\n            });\r\n        }\r\n\r\n    },\r\n    //buy gift\r\n    goBuyFor: function () {\r\n        var shopCartInfo = {};\r\n        var shopCarts = [];\r\n        var count = 1;\r\n        var amount = 0;\r\n        var shopCart = {};\r\n        shopCart.goodImgUrl = $(\"#slider-content ul li:first-child > img\").attr('src');\r\n        shopCart.goodTitle = $(\"input[name=goodName]\").val();\r\n        shopCart.salePrice = $(\"input[name=salePrice]\").val();\r\n        shopCart.goodCount = 1;\r\n        shopCart.skuItem = $(\"input[name=skuItem]\").val();\r\n        shopCart.skuId = $(\"input[name=skuId]\").val();\r\n        shopCarts.push(shopCart);\r\n        amount += parseFloat(shopCart.salePrice);\r\n        shopCartInfo.shopCarts = shopCarts;\r\n        shopCartInfo.goodTitle = shopCart.goodTitle;\r\n        shopCartInfo.count = shopCart.goodCount;\r\n        shopCartInfo.amount = amount;\r\n        shopCartInfo.all = amount * $('#quantity').val();\r\n\r\n        //save cartInfo\r\n        localStorage.setItem('goodId', Util.common.getParameter(\"id\"));\r\n        localStorage.setItem('shopCartInfo', JSON.stringify(shopCartInfo));\r\n\r\n        document.location.href = \"html/customer/details/editCoupon.html?type=add&uew=now\";\r\n\r\n    }\r\n}\r\n\r\n/**\r\n * 分享开始\r\n */\r\n$(\".share-bottom-bar-a\").on(\"click\", function () {\r\n    $(\".my-ui-share-bottom\").show();\r\n    $(\"body\").css({\"overflow\": \"hidden\"});\r\n});\r\n$(\".my-ui-share-bottom\").on(\"click\", function (e) {\r\n    var target = $(e.target);\r\n    if (target.closest(\".share-content\").length == 0) {\r\n        $(this).hide();\r\n        $(\"body\").css({\"overflow\": \"visible\"});\r\n    }\r\n});\r\n/**\r\n * 分享开始\r\n */\r\n$(\".share-bottom-bar-a\").on(\"click\", function () {\r\n    $(\".my-ui-share-bottom\").show();\r\n    $(\"body\").css({\"overflow\": \"hidden\"});\r\n});\r\n$(\".my-ui-share-bottom,.dialog_close\").on(\"click\", function (e) {\r\n    var target = $(e.target);\r\n    if (target.closest(\".share-content\").length == 0) {\r\n        $(this).hide();\r\n        $(\"body\").css({\"overflow\": \"visible\"});\r\n    }\r\n});\r\n\r\nfunction goodsWxShare() {\r\n    var imageSrc = $(\".slides\").find('li').eq(0).find('img').attr('src');\r\n    alert($(\"#goodsName\").text());\r\n    var shareUrl = Util.common.baseUrl + 'weixin/weixinClient/index.do?from=weixinfront/html/customer/details/details.html?id=' + Util.common.getParameter(\"id\");\r\n    wx.onMenuShareAppMessage({\r\n        title: $(\"#goodsName\").text(), // 分享标题\r\n        desc: $(\"#goodsName\").text(), // 分享描述\r\n        link: shareUrl, // 分享链接\r\n        imgUrl: imageSrc, // 分享图标\r\n        type: 'link', // 分享类型,music、video或link，不填默认为link\r\n        dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空\r\n        success: function () {\r\n            // 用户确认分享后执行的回调函数\r\n            Util.msg.show(\"msgId\", \"分享成功\");\r\n        },\r\n        cancel: function () {\r\n            // 用户取消分享后执行的回调函数\r\n            Util.msg.show(\"msgId\", \"分享失败\");\r\n        }\r\n    });\r\n}\r\n\r\nfunction goodsWxCircleShare() {\r\n    var imageSrc = $(\".slides\").find('li').eq(0).find('img').attr('src');\r\n    alert($(\"#goodsName\").text());\r\n    wx.onMenuShareTimeline({\r\n        title: $(\"#goodsName\").text(), // 分享标题\r\n        link: window.location.url, // 分享链接\r\n        imgUrl: imageSrc, // 分享图标\r\n        success: function () {\r\n            // 用户确认分享后执行的回调函数\r\n            Util.msg.show(\"msgId\", \"分享成功\");\r\n        },\r\n        cancel: function () {\r\n            // 用户取消分享后执行的回调函数\r\n            Util.msg.show(\"msgId\", \"分享失败\");\r\n        }\r\n    });\r\n}"]}