{"version":3,"sources":["order-detail.js"],"names":[],"mappings":"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","file":"order-detail-compiled.js","sourcesContent":["$(function() {\r\n    //初始化加载元素\r\n    customer.order.init();\r\n    //\r\n    var needInvoice, invoiceName, invoiceContent;\r\n    needInvoice = false;\r\n    invoiceName = \"\";\r\n    invoiceContent = \"\";\r\n    $(\"input[name=needInvoice]\").val(needInvoice);\r\n    $(\"input[name=invoiceName]\").val(invoiceName);\r\n    $(\"input[name=invoiceContent]\").val(invoiceContent);\r\n    $('#pc-judge-radio').on('click', function(){\r\n        if($(this).is(':checked')){\r\n            $('.packet-mask').show();\r\n            $('#unit-person').on('click', function(){\r\n                if($(this).is(':checked')) {\r\n                    $('.unit-input-text').hide();\r\n                }\r\n            });\r\n            $('#unit-company').on('click', function(){\r\n                if($(this).is(':checked')) {\r\n                    $('.unit-input-text').show();\r\n                }\r\n            });\r\n            $('#no-packet').on('click', function(){\r\n                needInvoice = false;\r\n                invoiceName = \"\";\r\n                invoiceContent = \"\";\r\n                $(\"input[name=needInvoice]\").val(needInvoice);\r\n                $(\"input[name=invoiceName]\").val(invoiceName);\r\n                $(\"input[name=invoiceContent]\").val(invoiceContent);\r\n                $('.packet-mask').hide();\r\n                $('#pc-judge-radio').removeAttr('checked');\r\n            });\r\n            $('.packet-submit').on('click', function(){\r\n                if($('#unit-company').is(':checked')){\r\n                    if($('.unit-input-text').val() == '') {\r\n                        Util.msg.show('msgId', '请输入正确的单位发票抬头');\r\n                    } else {\r\n                        needInvoice = true;\r\n                        invoiceName = \"公司\";\r\n                        invoiceContent = $('.unit-input-text').val();\r\n                        $('.packet-mask').hide();\r\n                    }\r\n                } else {\r\n                    needInvoice = true;\r\n                    invoiceName = \"个人\";\r\n                    invoiceContent = \"\";\r\n                    $('.packet-mask').hide();\r\n                }\r\n                $(\"input[name=needInvoice]\").val(needInvoice);\r\n                $(\"input[name=invoiceName]\").val(invoiceName);\r\n                $(\"input[name=invoiceContent]\").val(invoiceContent);\r\n            });\r\n        }\r\n    });\r\n});\r\nvar customer = customer || {};\r\ncustomer.order={\r\n    //初始化加载元素\r\n    init:function(){\r\n        this.loadPage();\r\n\r\n        var orderPage = localStorage.getItem('orderPage');\r\n        console.info(orderPage)\r\n        if(orderPage){\r\n            $('#back').attr('href',orderPage);\r\n        }\r\n    },\r\n    loadPage:function(){\r\n        var shopCartInfo = Util.common.getParameter(\"shopCartInfo\");\r\n        var shopCartInfoJson = JSON.parse(shopCartInfo);\r\n        console.log(shopCartInfoJson);\r\n        $(\"#goodDetails\").html($(\"#goodDetails_t\").tmpl(shopCartInfoJson));\r\n        $(\"#goodDetail_total\").html($(\"#goodDetail_total_t\").tmpl(shopCartInfoJson));\r\n        $(\"#order-cast-info-id\").html($(\"#order-cast-info_t\").tmpl(shopCartInfoJson));\r\n\r\n        if(Util.common.getParameter(\"buyType\") == 0) {\r\n            //get addr\r\n            var url_addr = Util.common.baseUrl +\"/weixin/addr/query.do\";\r\n            //var param_addr = {\"userId\": \"1\"};i\r\n            var param_addr = {\"userId\": localStorage.getItem('userid')};\r\n            console.log(param_addr);\r\n            Util.common.executeAjaxCallback(url_addr, param_addr, function (data) {\r\n                var get_address = \"\";\r\n                for(var i=0;i< data.length;i++) {\r\n                    if(data[i].status == 1) {\r\n                        $(\"input[name=province]\").val(data[i].provinceName);\r\n                        $(\"input[name=city]\").val(data[i].cityName);\r\n                        $(\"input[name=town]\").val(data[i].areaName);\r\n                        $(\"input[name=address]\").val(data[i].detailAddr);\r\n                        $(\"input[name=receiver]\").val(data[i].receiptName);\r\n                        $(\"input[name=receiverPhone]\").val(data[i].mobile);\r\n\r\n                        get_address = data[i].provinceName + data[i].cityName + data[i].areaName + data[i].detailAddr;\r\n                        var temp = {\r\n                            \"provinceName\": data[i].provinceName,\r\n                            \"cityName\": data[i].cityName,\r\n                            \"areaName\": data[i].areaName,\r\n                            \"detailAddr\": data[i].detailAddr,\r\n                            \"receiptName\": data[i].receiptName,\r\n                            \"mobile\": data[i].mobile\r\n                        };\r\n                        localStorage.setItem(\"one_location\", JSON.stringify(temp));\r\n                    }\r\n                }\r\n                if(get_address != \"\") {\r\n                    $('#pay-address-edit').html(get_address);\r\n                }\r\n            });\r\n            $(\"#send-info-div\").hide();\r\n            //$(\"#packet-needed\").hide();\r\n            $(\"#pay-address-edit\").on('click',function(){\r\n\r\n                localStorage.setItem('addressPage', 'html/customer/order/order-detail-submit.html');\r\n                document.location.href = 'html/customer/address/index.html?type=html/customer/order/order-detail-submit.html';\r\n            });\r\n        }\r\n        if(Util.common.getParameter(\"buyType\") == 1) {\r\n            var one_location = JSON.parse(localStorage.getItem('one_location'));\r\n            if(one_location == null) {\r\n                $(\"#pay-address-edit\").html('编辑收货地址').css({\r\n                    'position': 'relative',\r\n                    'top': '6px'\r\n                }).on('click',function(){\r\n                    document.location.href = 'html/customer/address/edit.html?type=add&&use=now';\r\n                });\r\n            } else {\r\n                $(\"#pay-address-edit\").html(one_location.provinceName + one_location.cityName + one_location.areaName + one_location.detailAddr).css({\r\n                    'position': 'relative',\r\n                    'top': '5px'\r\n                }).on('click',function(){\r\n                    document.location.href = 'html/customer/address/edit.html?type=add&&use=now';\r\n                });\r\n            }\r\n        }\r\n    },\r\n    loadTemplate: function (render, templateId, data) {\r\n        $(render).html($(templateId).tmpl(data));\r\n    },\r\n    goDetailPro: function() {\r\n        document.location.href = 'html/customer/details/detail.html?id=' + $(this).attr('value');\r\n    },\r\n    goPay: function() {\r\n        this.submit();\r\n    },\r\n    submit:function(){\r\n        var modelJson = {};\r\n        modelJson.subbranchId = localStorage.getItem(\"shopId\");\r\n        modelJson.buyerId = localStorage.getItem(\"userid\");\r\n        //\r\n        if(Util.common.getParameter('buyType') == 0) {\r\n            modelJson.buyType = \"z\";\r\n        } else {\r\n            modelJson.buyType = \"s\";\r\n        }\r\n        modelJson.type = \"1\";\r\n        modelJson.ticketNum = \"\";\r\n        modelJson.buyerCarriage = \"\";\r\n        modelJson.province = JSON.parse(localStorage.getItem('one_location')).provinceName ;\r\n        modelJson.city = JSON.parse(localStorage.getItem('one_location')).cityName;\r\n        modelJson.town = JSON.parse(localStorage.getItem('one_location')).areaName;\r\n        modelJson.address = JSON.parse(localStorage.getItem('one_location')).detailAddr;\r\n        modelJson.receiver = JSON.parse(localStorage.getItem('one_location')).receiptName;\r\n        modelJson.receiverPhone = JSON.parse(localStorage.getItem('one_location')).mobile;\r\n        modelJson.buyerRemark = $(\"input[name=buyerRemark]\").val();\r\n        modelJson.needInvoice = $(\"input[name=needInvoice]\").val();\r\n        modelJson.invoiceName = $(\"input[name=invoiceName]\").val();\r\n        modelJson.invoiceContent = $(\"input[name=invoiceContent]\").val();\r\n        var indentList =[];\r\n        var goodCount = $(\"input[name=goodCount]\").val();\r\n\r\n        var shopCartInfo = Util.common.getParameter(\"shopCartInfo\");\r\n        var shopCartInfoJson = JSON.parse(shopCartInfo);\r\n        for(var i = 0; i < shopCartInfoJson.shopCarts.length; i++){\r\n            var shopCart = shopCartInfoJson.shopCarts[i];\r\n            var indent = {};\r\n            indent.number  = shopCart.goodCount;\r\n            indent.finalAmount  = shopCart.salePrice;\r\n            indent.tradeGoodSkuId  = shopCart.skuId;\r\n            indentList.push(indent);\r\n        }\r\n        console.log(indentList);\r\n        modelJson.indentList = indentList;\r\n\r\n\r\n        var url = Util.common.baseUrl + \"/weixin/indent/add.do\";\r\n        var param = {\"modelJson\":JSON.stringify(modelJson)};\r\n        if($('#pay-address-edit').html() == '编辑收货地址' || $('#pay-address-edit').html() == '收货地址:') {\r\n            Util.msg.show(\"msgId\", \"请填写收货地址\");\r\n        } else {\r\n            Util.common.executeAjaxCallback(url, param, function (data) {\r\n                if (data.code==1){\r\n                    var all = parseFloat($('#pay-all').html());\r\n                    document.location.href = \"html/customer/order/order-pay.html\" +\r\n                      \"?goodCount=\"+goodCount+\"&all=\" + all+'&orderId='+data.msg + \"&goodId=\" + Util.common.getParameter('goodId')+\"&shopCartInfo=\" + shopCartInfo;\r\n                }\r\n                else{\r\n                    if(data.msg){\r\n                        Util.msg.show(\"msgId\", data.msg);\r\n                    }\r\n                    else{\r\n                        Util.msg.show(\"msgId\", \"库存不足\");\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n"]}