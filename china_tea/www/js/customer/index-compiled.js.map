{"version":3,"sources":["index.js"],"names":[],"mappings":";;AAAA,EAAE,YAAW;;AAET,aAAS,KAAT,CAAe,IAAf,GAFS;AAGT,MAAE,KAAF,EAAS,IAAT,GAHS;AAIT,QAAI,UAAU,KAAK,MAAL,CAAY,YAAZ,CAAyB,SAAzB,CAAV,CAJK;AAKT,QAAI,SAAS,KAAK,MAAL,CAAY,YAAZ,CAAyB,QAAzB,CAAT,CALK;AAMT,QAAI,SAAS,gBAAT,CANK;AAOT,QAAI,cAAc,KAAK,MAAL,CAAY,OAAZ,GAAoB,qCAApB,CAPT;AAQT,QAAI,QAAQ,EAAC,MAAM,OAAN,EAAT;;AARK,QAUT,CAAK,MAAL,CAAY,mBAAZ,CAAgC,WAAhC,EAA6C,KAA7C,EAAoD,UAAU,KAAV,EAAiB;;AAEjE,qBAAa,OAAb,CAAqB,OAArB,EAA6B,KAAK,SAAL,CAAe,KAAf,CAA7B,EAFiE;AAGjE,qBAAa,OAAb,CAAqB,SAArB,EAA+B,MAAM,IAAN,CAA/B,CAHiE;AAIjE,UAAE,iBAAF,EAAqB,IAArB,CAA0B,MAAM,IAAN,CAA1B,CAJiE;;AAMjE,aAAK,MAAL,CAAY,UAAZ,CAAuB,MAAM,IAAN,CAAvB;;KANgD,CAApD,CAVS;AAU4D,AAWrE,SAAK,MAAL,CAAY,UAAZ,CAAuB,aAAa,OAAb,CAAqB,SAArB,CAAvB;;AArBS,gBAuBT,CAAa,OAAb,CAAqB,QAArB,EAA8B,MAA9B,EAvBS;AAwBT,iBAAa,OAAb,CAAqB,QAArB,EAA8B,OAA9B;;;;AAxBS,gBA4BT,CAAa,OAAb,CAAqB,QAArB,EAA8B,MAA9B;;;;;;;;;CA5BF,CAAF;AAAa,AAuCb,IAAI,WAAW,YAAY,EAAZ;AACf,SAAS,KAAT,GAAe;;AAEX,UAAK,gBAAU;AACX,aAAK,aAAL,GADW;AAEX,aAAK,YAAL,GAFW;AAGX,aAAK,UAAL,GAHW;AAIX,aAAK,eAAL,GAJW;AAKX,aAAK,cAAL;;AALW,YAOX,CAAK,SAAL,GAPW;AAQX,aAAK,cAAL,GARW;KAAV;;AAWL,oBAAgB,0BAAY;AACxB,YAAI,MAAM,KAAK,MAAL,CAAY,OAAZ,GAAsB,2BAAtB,CADc;AAExB,YAAI,QAAQ,EAAC,UAAU,aAAa,OAAb,CAAqB,QAArB,CAAV,EAA0C,UAAU,aAAa,OAAb,CAAqB,QAArB,CAAV,EAAnD,CAFoB;AAGxB,aAAK,MAAL,CAAY,mBAAZ,CAAgC,GAAhC,EAAqC,KAArC,EAA4C,UAAU,IAAV,EAAgB;AACxD,oBAAQ,GAAR,CAAY,KAAK,MAAL,CAAZ,CADwD;AAExD,gBAAG,KAAK,MAAL,IAAe,EAAf,EAAmB;AAClB,kBAAE,WAAF,EAAe,IAAf,CAAoB,KAAK,MAAL,CAApB,CADkB;aAAtB,MAEO;AACH,kBAAE,WAAF,EAAe,IAAf,GADG;aAFP;SAFwC,CAA5C,CAHwB;KAAZ;;AAchB,mBAAc,yBAAU;AACpB,YAAI,MAAM,KAAK,MAAL,CAAY,OAAZ,GAAoB,0BAApB,CADU;AAEpB,YAAI,QAAQ,EAAC,YAAW,GAAX,EAAT,CAFgB;AAGpB,aAAK,MAAL,CAAY,mBAAZ,CAAgC,GAAhC,EAAqC,KAArC,EAA4C,UAAU,IAAV,EAAgB;AACxD,gBAAI,QAAO,EAAC,SAAQ,IAAR,EAAR,CADoD;AAExD,qBAAS,KAAT,CAAe,YAAf,CAA4B,iBAA5B,EAA+C,oBAA/C,EAAqE,KAArE,EAFwD;AAGxD,qBAAS,KAAT,CAAe,kBAAf,GAHwD;SAAhB,CAA5C,CAHoB;KAAV;AASd,wBAAmB,8BAAU;AACzB,UAAE,iBAAF,EAAqB,MAArB,CAA4B;AACxB,2BAAe,CAAf;AACA,sBAAU,IAAV;AACA,kBAAM,IAAN;AACA,oBAAQ,MAAR;AACA,mBAAO,IAAP;;AAEA,wBAAY,oBAAZ;AACA,0BAAc,CAAd;SARJ,EADyB;AAWzB,UAAE,YAAF,EAAgB,KAAhB,CAAsB,YAAU;AAC5B,oBAAQ,IAAR,CAAa,EAAE,IAAF,EAAQ,IAAR,CAAa,MAAb,CAAb,EAD4B;AAE5B,gBAAG,EAAE,IAAF,EAAQ,IAAR,CAAa,MAAb,KAAsB,GAAtB,EAA0B;AACzB,oBAAI,SAAS,EAAE,IAAF,EAAQ,IAAR,CAAa,QAAb,CAAT,CADqB;AAEzB,oBAAI,MAAM,KAAK,MAAL,CAAY,OAAZ,GAAoB,sCAApB,GAA2D,MAA3D,CAFe;AAGzB,qBAAK,MAAL,CAAY,mBAAZ,CAAgC,GAAhC,EAAqC,EAArC,EAAyC,UAAU,IAAV,EAAgB;AACrD,sBAAE,UAAF,EAAc,IAAd,CAAmB,KAAK,KAAL,CAAnB,CADqD;AAErD,sBAAE,aAAF,EAAiB,IAAjB,CAAsB,KAAK,OAAL,CAAtB,CAFqD;AAGrD,sBAAE,eAAF,EAAmB,IAAnB,GAA0B,KAA1B,CAAgC,MAAhC,EAHqD;iBAAhB,CAAzC,CAHyB;aAA7B;SAFkB,CAAtB,CAXyB;KAAV;;AA0BnB,kBAAa,wBAAU;AACnB,YAAI,MAAM,KAAK,MAAL,CAAY,OAAZ,GAAqB,2CAArB,CADS;AAEnB,YAAI,QAAQ,EAAC,YAAW,GAAX,EAAT,CAFe;AAGnB,aAAK,MAAL,CAAY,mBAAZ,CAAgC,GAAhC,EAAqC,KAArC,EAA4C,UAAU,IAAV,EAAgB;AACxD,oBAAQ,GAAR,CAAY,KAAK,MAAL,CAAZ,CADwD;AAExD,gBAAG,KAAK,MAAL,GAAc,CAAd,EAAiB;;AAEhB,kBAAE,oBAAF,EAAwB,MAAxB,CAA+B;AAC3B,2BAAO,IAAP;AACA,8BAAU,IAAV;AACA,kDAA8B,KAA9B;AACA,0BAAM,IAAN;iBAJJ,EAFgB;aAApB;;AAUA,qBAAS,KAAT,CAAe,YAAf,CAA4B,uBAA5B,EAAqD,mBAArD,EAA0E,IAA1E,EAZwD;AAaxD,cAAE,KAAF,EAAS,IAAT,GAbwD;SAAhB,CAA5C,CAHmB;KAAV;;AAoBb,gBAAW,sBAAU;AACjB,YAAI,MAAM,KAAK,MAAL,CAAY,OAAZ,GAAqB,+CAArB,CADO;AAEjB,YAAI,QAAQ,EAAR,CAFa;AAGjB,aAAK,MAAL,CAAY,mBAAZ,CAAgC,GAAhC,EAAqC,KAArC,EAA4C,UAAU,IAAV,EAAgB;AACxD,qBAAS,KAAT,CAAe,YAAf,CAA4B,kBAA5B,EAAgD,iBAAhD,EAAmE,IAAnE,EADwD;SAAhB,CAA5C,CAHiB;KAAV;;AAQX,qBAAgB,2BAAU;AACtB,YAAI,MAAM,KAAK,MAAL,CAAY,OAAZ,GAAqB,oCAArB,CADY;AAEtB,YAAI,QAAQ,EAAR,CAFkB;AAGtB,aAAK,MAAL,CAAY,mBAAZ,CAAgC,GAAhC,EAAqC,KAArC,EAA4C,UAAU,IAAV,EAAgB;AACxD,gBAAI,QAAO,EAAC,SAAQ,IAAR,EAAR,CADoD;AAExD,qBAAS,KAAT,CAAe,YAAf,CAA4B,qBAA5B,EAAmD,sBAAnD,EAA2E,KAA3E;;AAFwD,aAIxD,CAAE,qBAAF,EAAyB,MAAzB,CAAgC;AAC5B,+BAAe,GAAf;AACA,uBAAO,IAAP;AACA,0BAAU,IAAV;AACA,8CAA8B,KAA9B;AACA,oCAAqB,CAArB;AACA,mCAAoB,EAApB;;;AAGA,8BAAc,EAAd;aATJ,EAJwD;AAexD,gBAAI,UAAU,EAAE,2CAAF,EAA+C,KAA/C,EAAV,CAfoD;AAgBxD,gBAAI,SAAS,EAAE,4CAAF,EAAgD,KAAhD,EAAT,CAhBoD;AAiBxD,gBAAI,UAAU,EAAE,2CAAF,EAA+C,MAA/C,EAAV,CAjBoD;AAkBxD,gBAAI,SAAS,EAAE,4CAAF,EAAgD,MAAhD,EAAT,CAlBoD;AAmBxD,cAAE,4CAAF,EAAgD,GAAhD,CAAoD;AAChD,wBAAQ,CAAC,UAAQ,MAAR,CAAD,GAAmB,CAAnB;AACR,uBAAO,CAAC,UAAQ,MAAR,CAAD,GAAmB,CAAnB;aAFX,EAnBwD;SAAhB,CAA5C,CAHsB;KAAV;;AA8BhB,oBAAe,0BAAU;AACrB,YAAI,MAAM,KAAK,MAAL,CAAY,OAAZ,GAAqB,gCAArB,CADW;AAErB,YAAI,QAAQ,EAAR,CAFiB;AAGrB,aAAK,MAAL,CAAY,mBAAZ,CAAgC,GAAhC,EAAqC,KAArC,EAA4C,UAAU,IAAV,EAAgB;AACxD,gBAAI,QAAQ,EAAR,CADoD;AAExD,iBAAI,IAAI,IAAE,CAAF,EAAI,IAAE,KAAK,MAAL,EAAY,GAA1B,EAA8B;AAC1B,oBAAI,SAAS,KAAK,CAAL,EAAQ,mBAAR,CAAT,IAAuC,CAAvC,EAAyC;AACzC,0BAAM,IAAN,CAAW,KAAK,CAAL,CAAX,EADyC;iBAA7C;aADJ;AAKA,gBAAI,QAAO,EAAC,SAAQ,KAAR,EAAR,CAPoD;AAQxD,qBAAS,KAAT,CAAe,YAAf,CAA4B,eAA5B,EAA6C,gBAA7C,EAA+D,KAA/D;;;AARwD,aAWxD,CAAE,eAAF,EAAmB,MAAnB,CAA0B;AACtB,+BAAe,CAAf;AACA,0BAAU,IAAV;AACA,sBAAM,IAAN;AACA,oCAAqB,EAArB;;AAEA,mCAAoB,EAApB;AACA,8BAAc,EAAd;aAPJ,EAXwD;SAAhB,CAA5C;;;;;;;;;;;;;;AAHqB,KAAV;;AAuCf,eAAU,qBAAU;;;KAAV;AAIV,iBAAY,qBAAS,GAAT,EAAc,KAAd,EAAqB,MAArB,EAA6B,UAA7B,EAAwC;AAChD,aAAK,MAAL,CAAY,mBAAZ,CAAgC,GAAhC,EAAqC,KAArC,EAA2C,UAAS,IAAT,EAAc;AACrD,iBAAK,YAAL,CAAkB,MAAlB,EAAyB,UAAzB,EAAoC,IAApC,EADqD;SAAd,CAA3C,CADgD;KAAxC;AAKZ,kBAAa,sBAAS,MAAT,EAAiB,UAAjB,EAA6B,IAA7B,EAAmC;;AAE5C,UAAE,MAAF,EAAU,IAAV,CAAe,EAAE,UAAF,EAAc,IAAd,CAAmB,IAAnB,CAAf,EAF4C;KAAnC;;AAKb,gBAAW,sBAAU;AACjB,mBAAW,YAAU;AACjB,qBAAS,QAAT,CAAkB,IAAlB,GAAuB,kCAAvB,CADiB;SAAV,EAER,GAFH,EADiB;KAAV;CA7Kf","file":"index-compiled.js","sourcesContent":["$(function() {\r\n    //初始化加载元素\r\n    customer.index.init();\r\n    $('.yt').hide();\r\n    var storeId = Util.common.getParameter(\"storeId\");\r\n    var userId = Util.common.getParameter(\"userId\");\r\n    var openid = 'dqewqdads21312';\r\n    var loadShopUrl = Util.common.baseUrl+\"/weixin/store/subbranch/loadInfo.do\";\r\n    var param = {\"id\": storeId};\r\n    //var param = {\"id\": \"248474721296064512\"};\r\n    Util.common.executeAjaxCallback(loadShopUrl, param, function (store) {\r\n        //console.info(JSON.stringify(store));\r\n        localStorage.setItem('store',JSON.stringify(store));\r\n        localStorage.setItem('my_name',store.name);\r\n        $('#my-header > h2').html(store.name);\r\n\r\n        Util.common.setWxTitle(store.name);\r\n        //var store = {\"id\":\"248474721296064512\",\"name\":\"中国茶商通\",\"userName\":\"测试1\",\"mobile\":\"15960252577\",\"levelId\":\"248472574727991296\",\"levelName\":\"加盟商\",\"state\":0,\"password\":null,\"headImgUrl\":\"http://7xk1l7.dl1.z0.glb.clouddn.com/1463982599011ac85978.jpg\",\"email\":null,\"weixin\":\"weixin\",\"description\":\"\",\"number\":\"01\",\"createBy\":\"null\",\"createTime\":\"2016-05-23 00:00:00\",\"storeId\":\"227476069188571136\",\"updateTime\":\"2016-06-03 10:57:42\",\"province\":\"1147\",\"city\":\"1162\",\"country\":\"1163\",\"address\":\"\",\"phone\":\"15960252685\"};\r\n\r\n\r\n    });\r\n    Util.common.setWxTitle(localStorage.getItem('my_name'));\r\n    //localStorage.clear();\r\n    localStorage.setItem(\"userid\",userId);\r\n    localStorage.setItem(\"shopId\",storeId);\r\n    //debug\r\n    //localStorage.setItem(\"userid\",\"252415569891778560\");\r\n    //localStorage.setItem(\"shopId\",\"248474721296064512\");\r\n    localStorage.setItem(\"openid\",openid);\r\n    ////测试使用 1.1.1.2\t会员入口\r\n    //var url = Util.common.baseUrl+\"/weixin/weixinClient/index.do\";\r\n    //var param = {\"from\":\"html/customer/index.html\",\"storeId\":shopId,\"type\":\"weixinIndex\"};\r\n    //Util.common.executeAjaxCallback(url, param, function (data) {\r\n    //    console.info(data)\r\n    //});\r\n    //var user = {\"from\":\"/weixin/index.html?param=xxxx\",\"storeId\":\"1111111\",\"type\":\"weixinIndex\",\"userInfo\":{\"id\":\"11111111\"}:\"openid\":\"dqewqdads21312\"};\r\n    //以下测试使用，实际需微信客户端上获取，待开发\r\n\r\n});\r\nvar customer = customer || {};\r\ncustomer.index={\r\n    //初始化加载元素\r\n    init:function(){\r\n        this.loadAdvertise();\r\n        this.loadClassify();\r\n        this.loadColumn();\r\n        this.loadApplication();\r\n        this.loadCargoBrand();\r\n        //页面加载完成后再播放幻灯片\r\n        this.initSlide();\r\n        this.loadCartNumber();\r\n    },\r\n    //初始化加载购物车数目\r\n    loadCartNumber: function () {\r\n        var url = Util.common.baseUrl + \"/weixin/cart/queryCart.do\";\r\n        var param = {\"userId\": localStorage.getItem(\"userid\"), \"shopId\": localStorage.getItem(\"shopId\")};\r\n        Util.common.executeAjaxCallback(url, param, function (data) {\r\n            console.log(data.length);\r\n            if(data.length != '') {\r\n                $('#cart_num').html(data.length);\r\n            } else {\r\n                $('#cart_num').hide();\r\n            }\r\n\r\n        });\r\n    },\r\n    //初始化加载广告幻灯片//初始化加载广告幻灯片\r\n    loadAdvertise:function(){\r\n        var url = Util.common.baseUrl+\"/weixin/common/getImg.do\";\r\n        var param = {\"category\":\"0\"};\r\n        Util.common.executeAjaxCallback(url, param, function (data) {\r\n            var datas ={\"datas\":data};\r\n            customer.index.loadTemplate(\"#slider-content\", \"#index_advertise_t\", datas);\r\n            customer.index.initAdvertiseSlide();\r\n        });\r\n    },\r\n    initAdvertiseSlide:function(){\r\n        $(\"#slider-content\").swiper({\r\n            slidesPerView: 1,\r\n            autoplay: 2500,\r\n            loop: true,\r\n            effect: 'fade',\r\n            speed: 2000,\r\n            //centeredSlides: true,\r\n            pagination: '.swiper-pagination',\r\n            spaceBetween: 0\r\n        });\r\n        $('.advertise').click(function(){\r\n            console.info($(this).attr('type'))\r\n            if($(this).attr('type')=='0'){\r\n                var typeId = $(this).attr('typeId');\r\n                var url = Util.common.baseUrl+\"/weixin/common/getImgRichText.do?id=\"+typeId;\r\n                Util.common.executeAjaxCallback(url, {}, function (data) {\r\n                    $('#adtitle').html(data.title);\r\n                    $('#adcontents').html(data.content);\r\n                    $('#adDetailText').show().popup(\"open\");\r\n                });\r\n\r\n            }\r\n        });\r\n    },\r\n    //初始化加载商品分类\r\n    loadClassify:function(){\r\n        var url = Util.common.baseUrl+ \"/weixin/cargo/classify/queryByParentId.do\";\r\n        var param = {\"category\":\"0\"};\r\n        Util.common.executeAjaxCallback(url, param, function (data) {\r\n            console.log(data.length);\r\n            if(data.length > 6) {\r\n                //\r\n                $(\"#index_classify_id\").swiper({\r\n                    speed: 1000,\r\n                    autoplay: 3000,\r\n                    autoplayDisableOnInteraction: false,\r\n                    loop: true\r\n                });\r\n            }\r\n\r\n            customer.index.loadTemplate(\"#index_classify_id ul\", \"#index_classify_t\", data);\r\n            $('.yt').show();\r\n        });\r\n    },\r\n    //初始化加载栏目\r\n    loadColumn:function(){\r\n        var url = Util.common.baseUrl+ \"/weixin/good/goodColumn/findAllGoodColumns.do\";\r\n        var param = {};\r\n        Util.common.executeAjaxCallback(url, param, function (data) {\r\n            customer.index.loadTemplate(\"#index_column_id\", \"#index_column_t\", data);\r\n        });\r\n    },\r\n    //初始化商品用途\r\n    loadApplication:function(){\r\n        var url = Util.common.baseUrl+ \"/weixin/good/goodLabels/findAll.do\";\r\n        var param = {};\r\n        Util.common.executeAjaxCallback(url, param, function (data) {\r\n            var datas ={\"datas\":data};\r\n            customer.index.loadTemplate(\"#slider-application\", \"#index_application_t\", datas);\r\n            //商品用途播放\r\n            $(\"#slider-application\").swiper({\r\n                slidesPerView: 2.4,\r\n                speed: 1000,\r\n                autoplay: 3000,\r\n                autoplayDisableOnInteraction: false,\r\n                slidesOffsetBefore : 8,\r\n                slidesOffsetAfter : 30,\r\n                //loop: true,\r\n                //centeredSlides: true,\r\n                spaceBetween: 16\r\n            });\r\n            var out_wid = $('#slider-application .swiper-slide a > img').width();\r\n            var in_wid = $('#slider-application .swiper-slide a > span').width();\r\n            var out_hei = $('#slider-application .swiper-slide a > img').height();\r\n            var in_hei = $('#slider-application .swiper-slide a > span').height();\r\n            $('#slider-application .swiper-slide a > span').css({\r\n                'left': (out_wid-in_wid) / 2,\r\n                'top': (out_wid-in_wid) / 2\r\n            });\r\n        });\r\n\r\n    },\r\n    //初始化品牌推荐\r\n    loadCargoBrand:function(){\r\n        var url = Util.common.baseUrl+ \"/weixin/cargo/brand/findAll.do\";\r\n        var param = {};\r\n        Util.common.executeAjaxCallback(url, param, function (data) {\r\n            var _data = [];\r\n            for(var i=0;i<data.length;i++){\r\n                if (parseInt(data[i].brandRecommendation)==1){\r\n                    _data.push(data[i]);\r\n                }\r\n            }\r\n            var datas ={\"datas\":_data};\r\n            customer.index.loadTemplate(\"#slider-brand\", \"#index_brand_t\", datas);\r\n            //品牌播放\r\n            //品牌播放\r\n            $('#slider-brand').swiper({\r\n                slidesPerView: 4,\r\n                autoplay: 3000,\r\n                loop: true,\r\n                slidesOffsetBefore : 15,\r\n                //centeredSlides: true,\r\n                slidesOffsetAfter : 50,\r\n                spaceBetween: 20\r\n            });\r\n        });\r\n        /*if(isdebug){\r\n            //测试数据\r\n            var data = [{\"id\":\"238986851953229875\",\"logo\":\"images/test-img/index/brand1.png\",\"name\":\"山国饮艺\",\"brandRecommendation\":\"1\"},\r\n                {\"id\":\"238986851953229875\",\"logo\":\"images/test-img/index/brand2.png\",\"name\":\"尚客茶品\",\"brandRecommendation\":\"1\"},\r\n                {\"id\":\"238986851953229875\",\"logo\":\"images/test-img/index/brand3.png\",\"name\":\"福村梅记\",\"brandRecommendation\":\"1\"},\r\n                {\"id\":\"238986851953229875\",\"logo\":\"images/test-img/index/brand4.png\",\"name\":\"壹日壹茶\",\"brandRecommendation\":\"1\"},\r\n                {\"id\":\"238986851953229875\",\"logo\":\"images/test-img/index/brand5.png\",\"name\":\"一品一茶\",\"brandRecommendation\":\"1\"},\r\n                {\"id\":\"238986851953229875\",\"logo\":\"images/test-img/index/brand3.png\",\"name\":\"铁观音\",\"brandRecommendation\":\"1\"}];\r\n            var datas ={\"datas\":data};\r\n            this.loadTemplate(\"#slider-brand\", \"#index_brand_t\", datas);\r\n        }else{\r\n            this.executeAjax(url ,param ,\"#slider-brand\", \"#index_brand_t\");\r\n        }*/\r\n    },\r\n    //初始化幻灯片\r\n    initSlide:function(){\r\n        //广告轮播\r\n      \r\n    },\r\n    executeAjax:function(url ,param ,render ,templateId){\r\n        Util.common.executeAjaxCallback(url ,param,function(data){\r\n            this.loadTemplate(render,templateId,data);\r\n        });\r\n    },\r\n    loadTemplate:function(render ,templateId ,data ){\r\n       // $(render).loadTemplate(templateId, data);\r\n        $(render).html($(templateId).tmpl(data));\r\n    },\r\n    //搜索框跳转\r\n    searchEven:function(){\r\n        setTimeout(function(){\r\n            document.location.href=\"html/customer/search/search.html\";\r\n        }, 300);\r\n    }\r\n}\r\n"]}