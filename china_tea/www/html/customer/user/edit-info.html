<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.5,maximum-scale=1.0, user-scalable=0">
    <base href="../../../"/>
    <link rel="stylesheet" href="css/common/jquery.mobile-1.4.5.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/common/common.css"/>
    <link rel="stylesheet" href="css/style-final.css"/>
    <!--<link rel="stylesheet" href="css/customer/user/edit-info.css"/>-->
</head>
<body>
<section data-role="header" data-theme="b" class="my-header" id="my-header">
    <a href="javascript:history.back();" data-rel="back" data-role="none" class="my-header-back-btn"></a>
    <h2 id="title">编辑</h2>
    <a href="#" class="my-header-right-btn" data-role="none" onclick="saveUserInfo()">保存</a>
</section>
<section data-role="content" role="main" class="edit-info-main">
    <div class="my-ui-input" style="width: 100%;">
        <input name="text" id="edit-info-input" type="text" data-role="none" value="">
        <a href="#" data-role="none" class="clear-a-text"></a>
    </div>
    <div class="submit-change" style="text-align: center;padding: 3px 0;font-size: 1.2em;letter-spacing: 2px;margin-top: 8%">确定</div>
</section>
</body>
<script src="js/common/jquery.min.js"></script>
<script>
    Util.common.setWxTitle('编辑');
    $(document).bind('mobileinit', function () {
        $.mobile.changePage.defaults.changeHash = false;
        $.mobile.hashListeningEnabled = false;
        $.mobile.pushStateEnabled = false;
    });
    function saveUserInfo() {
        /*var url = Util.common.baseUrl + "/weixin/weixinClient/updateMyInfo.do";
        var userName = Util.common.getParameter("user");
        var userInfo = JSON.parse(localStorage.getItem(userName));
        var name = Util.common.getParameter("name");
        var text = $("input[name=text]").val();
        var data = '{"shopId":"' + userInfo + '","' + name + '":"' + text + '"}';
        var param = {"param": data};
        Util.common.executeAjaxCallback(url, param, function (data) {
            if (data.code == 0) {
                userInfo.msg[name] = text;
                localStorage.setItem(userName, JSON.stringify(userInfo));
                history.back();
            }
        })*/
        document.location.href = 'html/customer/user/my-info.html';
    }
</script>
<script src="js/common/jquery.mobile-1.4.5.min.js"></script>
<script src="js/business/common/common.js"></script>
<script src="js/common/common.js"></script>

<script>
    $(function () {
        var text = Util.common.getParameter("text");
        $("#edit-info-input").val(text);

        var type = Util.common.getParameter('type');
        console.log(type);
        $('.submit-change').on('click', function(){
            if(type == 3) {
                if($("#edit-info-input").val().length < 11) {
                    Util.msg.show('msgId', '请输入11位手机号');
                } else {
                    localStorage.setItem('my_mobile', $("#edit-info-input").val());
                    history.back();
                }
            }
            if(type == 4) {
                localStorage.setItem('my_wx', $("#edit-info-input").val());
                history.back();
            }
            if(type == 5) {
                localStorage.setItem('my_birthday', $("#edit-info-input").val());
                history.back();
            }
            if(type == 6) {
                localStorage.setItem('my_sign', $("#edit-info-input").val());
                history.back();
            }
        });
    });
</script>
</html>